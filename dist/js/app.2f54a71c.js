(function(t){function e(e){for(var i,a,s=e[0],l=e[1],h=e[2],u=0,f=[];u<s.length;u++)a=s[u],n[a]&&f.push(n[a][0]),n[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(f.length)f.shift()();return o.push.apply(o,h||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],i=!0,s=1;s<r.length;s++){var l=r[s];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var i={},n={app:0},o=[];function a(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=i,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(r,i,function(e){return t[e]}.bind(null,i));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var h=0;h<s.length;h++)e(s[h]);var c=l;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"51f4":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("097d");var i=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Compiler")],1)},o=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"layout"},[r("div",{ref:"head",staticClass:"header"},[r("div",{staticClass:"logo"},[t._v("\n      Compiler\n    ")]),r("div",{staticClass:"nav"},[r("mu-tabs",{staticClass:"tab",attrs:{value:t.activeTab},on:{change:t.handleTabChange}},[r("mu-tab",{attrs:{value:"tab1",title:"编译原理"}}),r("mu-tab",{attrs:{value:"tab2",title:"课程设计"},on:{click:t.showCourseDesign}}),r("mu-tab",{attrs:{value:"tab3",title:"By 雪峰小组"},on:{click:t.showTeamInfor}})],1)],1)]),r("div",{ref:"content",staticClass:"content"},[r("div",{staticClass:"breadcrumb"},[r("mu-breadcrumb",[r("mu-raised-button",{attrs:{label:"词法分析"},on:{click:t.cffx}}),r("mu-raised-button",{attrs:{label:"语法分析"},on:{click:t.yffx}}),r("mu-raised-button",{attrs:{label:"预测语法分析表"},on:{click:t.showPreList}}),r("mu-raised-button",{attrs:{label:"中间代码",primary:""},on:{click:t.midCode}}),r("mu-raised-button",{attrs:{label:"目标代码",primary:""},on:{click:function(e){t.showSnackbar("敬请期待",2e3)}}}),r("mu-raised-button",{attrs:{label:"清空控制台"},on:{click:t.clearConsole}})],1)],1),r("div",{staticClass:"body"},[r("div",{attrs:{id:"olContenter"},on:{mouseover:t._syncScroll,mouseout:t._clearSyncScroll}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textarea.lineCountString,expression:"textarea.lineCountString"}],ref:"textareaOl",style:{height:t.textarea.height+"px"},attrs:{id:"textareaOl",disabled:""},domProps:{value:t.textarea.lineCountString},on:{input:function(e){e.target.composing||t.$set(t.textarea,"lineCountString",e.target.value)}}})]),r("div-edite",{ref:"mainTextArea",staticClass:"mainTextArea",style:{height:t.textarea.height+"px"},attrs:{id:"mainTextArea"},model:{value:t.textarea.code,callback:function(e){t.$set(t.textarea,"code",e)},expression:"textarea.code"}})],1),r("mu-dialog",{attrs:{open:t.dialog.is,title:t.dialog.title,scrollable:""},on:{close:t.closeDialog}},[r("mu-menu",t._l(t.dialog.content,function(t,e){return r("mu-menu-item",{key:e,attrs:{title:t}})}),1),r("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"复制内容"},on:{click:t.copyDialogContent},slot:"actions"}),r("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"关闭"},on:{click:t.closeDialog},slot:"actions"})],1),t.snackbar.is?r("mu-snackbar",{attrs:{message:t.snackbar.message,action:"关闭"},on:{actionClick:t.hideSnackbar,close:t.hideSnackbar}}):t._e()],1),r("mu-drawer",{staticClass:"drawer",attrs:{open:t.drawer.open,docked:t.drawer.docked,width:"100%"},on:{close:function(e){t.drawertoggle()}}},[r("h1",[t._v("预测语法分析表")]),r("table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticStyle:{width:"100%"}},[r("td",[t._v("T/NT")]),t._l(t.preParseTable.tor,function(e,i){return r("td",{key:i},[t._v(t._s(e))])})],2),t._l(t.preParseTable.ntor,function(e,i){return r("tr",{key:i,staticStyle:{width:"100%"}},[r("td",[t._v(t._s(e))]),t._l(t.preParseTable.tor,function(e,n){return r("td",{key:n},["x"!==t.preParseTable.product[i][n]?r("span",[t._v(t._s(t.preParseTable.product[i][n].left)+" → "+t._s(t.preParseTable.product[i][n].right.join("")))]):t._e(),"x"===t.preParseTable.product[i][n]?r("span",[t._v("x")]):t._e()])})],2)})],2),t.drawer.docked?r("mu-float-button",{staticStyle:{position:"fixed",right:"3em",top:"3em"},attrs:{icon:"close"},nativeOn:{click:function(e){t.drawer.open=!1}}}):t._e()],1),r("ul",{ref:"cnsoleT",staticClass:"footerInfor"},t._l(t.consoleTai,function(e,i){return r("li",{key:i,domProps:{innerHTML:t._s(e)}},[t._v(t._s(e))])}),0)],1)},s=[],l=(r("3b2b"),r("28a5"),r("a481"),r("75fc")),h=r("a745"),c=r.n(h),u=r("795b"),f=r.n(u),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"edit-div",attrs:{contenteditable:t.canEdit},domProps:{innerHTML:t._s(t.innerText)},on:{focus:function(e){t.isLocked=!0},blur:function(e){t.isLocked=!1},input:t.changeText}})},d=[],m={name:"editDiv",props:{value:{type:String,default:""},canEdit:{type:Boolean,default:!0}},data:function(){return{innerText:this.value,isLocked:!1}},watch:{value:function(){this.isLocked&&this.innerText||(this.innerText=this.value)}},methods:{changeText:function(){this.$emit("input",this.$el.innerHTML)}}},p=m,v=(r("7c0c"),r("2877")),T=Object(v["a"])(p,g,d,!1,null,null,null);T.options.__file="editDiv.vue";var y=T.exports,k=r("7618"),b=r("d225"),x=r("b0b4"),A=function(){function t(e,r,i){Object(b["a"])(this,t),this.tokenArray=e,this.grammer=i,this.tokenValue=r,this.setNonterminator(),this.setTerminator()}return Object(x["a"])(t,[{key:"getSet",value:function(){for(var t=this.nonTerminator.length,e=0;e<t;e++)this.getFirst(e,this.nonTerminator[e]);for(var r=0;r<t;r++)this.getFollowSet();var i=this.preParseList(this.NT);this.PPT={tor:this.terminator,ntor:this.nonTerminator,product:[]};for(var n=this.nonTerminator.length,o=this.terminator.length,a=0;a<n;a++){this.PPT.product[a]=[];for(var s=0;s<o;s++)for(var l=0;l<i.length;l++)i[l].ntor===this.nonTerminator[a]&&i[l].tor===this.terminator[s]&&(this.PPT.product[a][s]=i[l].product)}for(var h=0;h<n;h++)for(var c=0;c<o;c++)this.PPT.product[h][c]||(this.PPT.product[h][c]="x")}},{key:"getFirst",value:function(t,e){var r=this.grammer.length;this.NT[t]={ntor:e,First:[],FirstArray:[],Follow:[]};for(var i=0;i<r;i++)if(e===this.grammer[i].left[0]){if(!this.inArray(this.grammer[i].right[0],this.nonTerminator)&&!this.inArray(this.grammer[i].right[0],this.NT[t].FirstArray)){var n=1,o=[this.grammer[i].right[0]];while(this.grammer[i].right[n]&&"|"!==this.grammer[i].right[n])o.push(this.grammer[i].right[n]),n++;this.NT[t].FirstArray.push(this.grammer[i].right[0]),this.NT[t].First.push({first:this.grammer[i].right[0],fromP:{left:this.grammer[i].left[0],right:o}})}for(var a=0;a<this.grammer[i].right.length;a++)if("|"===this.grammer[i].right[a]&&!this.inArray(this.grammer[i].right[a+1],this.nonTerminator)&&!this.inArray(this.grammer[i].right[a+1],this.NT[t].FirstArray)){var s=2,l=[this.grammer[i].right[a+1]];while(this.grammer[i].right[a+s]&&"|"!==this.grammer[i].right[a+s])l.push(this.grammer[i].right[a+s]),s++;this.NT[t].FirstArray.push(this.grammer[i].right[a+1]),this.NT[t].First.push({first:this.grammer[i].right[a+1],fromP:{left:this.grammer[i].left[0],right:l}})}}for(var h=0;h<r;h++)if(e===this.grammer[h].left[0]){var c=this.passFirst(this.grammer[h].right[0]),u=1,f=[this.grammer[h].right[0]];while(this.grammer[h].right[u]&&"|"!==this.grammer[h].right[u])f.push(this.grammer[h].right[u]),u++;for(var g=0;g<c.length;g++)this.inArray(c[g],this.NT[t].FirstArray)||(this.NT[t].FirstArray.push(c[g]),this.NT[t].First.push({first:c[g],fromP:{left:this.grammer[h].left[0],right:f}}))}}},{key:"flatten",value:function(t){var e=this;return t.reduce(function(t,r){return c()(r)?[].concat(Object(l["a"])(t),Object(l["a"])(e.flatten(r))):[].concat(Object(l["a"])(t),[r])},[])}},{key:"passFirst",value:function(t){if(this.inArray(t,this.nonTerminator)){for(var e=[],r=0;r<this.grammer.length;r++)if(t===this.grammer[r].left[0])for(var i=this.depart(this.grammer[r].right),n=0;n<i.length;n++)e.push(this.passFirst(i[n][0]));return this.flatten(e)}return[t]}},{key:"getFollowSet",value:function(){for(var t=this.nonTerminator.length,e=0;e<t;e++)this.getFollow(e,this.nonTerminator[e])}},{key:"getFollow",value:function(t,e){var r=this.grammer.length;this.NT[0].Follow[0]="$";for(var i=0;i<r;i++)e===this.grammer[i].left[0]&&this.getFollowOne(e,this.grammer[i].right)}},{key:"depart",value:function(t){for(var e=t.length,r=0,i=[],n=0;n<=e;n++){if(n===e){i.push(t.slice(r,n));break}"|"===t[n]&&(i.push(t.slice(r,n)),r=n+1)}return i}},{key:"getFollowOne",value:function(t,e){for(var r,i,n=this.depart(e),o=0;o<n.length;o++)for(var a=0;a<n[o].length;a++)if(this.inArray(n[o][a],this.nonTerminator)){if(n[o][a+1]&&this.inArray(n[o][a+1],this.nonTerminator)&&(r=this.NT[this.searchArray(n[o][a],this.nonTerminator)],i=this.NT[this.searchArray(n[o][a+1],this.nonTerminator)],console.dir("".concat(t," → α ").concat(n[o][a]," ").concat(n[o][a+1],"  first(").concat(n[o][a+1],") = {").concat(i.FirstArray.join(" "),"}")),void 0!==r&&void 0!==i))for(var s=0;s<i.FirstArray.length;s++)"ε"===i.FirstArray[s]||this.inArray(i.FirstArray[s],r.Follow)||r.Follow.push(i.FirstArray[s]);if(!n[o][a+1]||this.inArray(n[o][a+1],this.nonTerminator)||this.inArray(n[o][a+1],this.NT[this.searchArray(n[o][a],this.nonTerminator)].Follow)||(console.dir("".concat(t," → α ").concat(n[o][a]," ").concat(n[o][a+1])),this.NT[this.searchArray(n[o][a],this.nonTerminator)].Follow.push(n[o][a+1])),n[o][a+1]&&this.inArray(n[o][a+1],this.nonTerminator)&&this.isToBlank(n[o][a+1])){console.dir("".concat(t," → α ").concat(n[o][a]," ").concat(n[o][a+1],"  且 ").concat(n[o][a+1]," =>* ε"));for(var l=this.NT[this.searchArray(n[o][a],this.nonTerminator)].Follow,h=this.NT[this.searchArray(t,this.nonTerminator)].Follow,c=0;c<h.length;c++)this.inArray(h[c],l)||l.push(h[c])}else if(!n[o][a+1]){console.dir("".concat(t," → α ").concat(n[o][a]));for(var u=this.NT[this.searchArray(n[o][a],this.nonTerminator)].Follow,f=this.NT[this.searchArray(t,this.nonTerminator)].Follow,g=0;g<f.length;g++)this.inArray(f[g],u)||u.push(f[g])}}}},{key:"setNonterminator",value:function(){var t=this.grammer.length;this.nonTerminator=[];for(var e=0;e<t;e++)this.inArray(this.grammer[e].left[0],this.nonTerminator)||this.nonTerminator.push(this.grammer[e].left[0]);this.NT=new Array(this.nonTerminator.length)}},{key:"setTerminator",value:function(){var t=this.grammer.length;this.terminator=[];for(var e=0;e<t;e++)for(var r=0;r<this.grammer[e].right.length;r++)this.inArray(this.grammer[e].right[r],this.nonTerminator)||"|"===this.grammer[e].right[r]||this.inArray(this.grammer[e].right[r],this.terminator)||this.terminator.push(this.grammer[e].right[r])}},{key:"isToBlank",value:function(t){for(var e=0;e<this.grammer.length;e++)if(t===this.grammer[e].left[0])for(var r=this.depart(this.grammer[e].right),i=0;i<r.length;i++){if("ε"===r[i][0])return!0;if(this.inArray(r[i][0],this.nonTerminator))return this.isToBlank(r[i][0])}return!1}},{key:"searchArray",value:function(t,e){if("object"!==Object(k["a"])(e))return!1;var r=[];for(var i in e)e[i]===t&&r.push(i);var n=r.length;return 0!==n&&(1===n?r[0]:r)}},{key:"inArray",value:function(t,e){for(var r in e)if(e[r]===t)return!0;return!1}},{key:"preParseList",value:function(t){for(var e=t.length,r=[],i=0;i<e;i++)for(var n=0;n<t[i].First.length;n++)if(r.push({ntor:t[i].ntor,tor:t[i].First[n].first,product:t[i].First[n].fromP}),"ε"===t[i].First[n].first)for(var o=0;o<t[i].Follow.length;o++)r.push({ntor:t[i].ntor,tor:t[i].Follow[o],product:t[i].First[n].fromP});return r}},{key:"searchProduct",value:function(t,e){var r=this.searchArray(t,this.nonTerminator),i=this.searchArray(e,this.terminator),n=this.PPT.product[r][i];return!(!n||"x"===n)&&n}},{key:"parseToken",value:function(){if(!this.tokenArray||""===this.tokenArray)return{status:!1,errorType:0,error:"No token"};for(var t=[this.nonTerminator[0],"$"].reverse(),e=this.flatten([this.tokenArray,"$"]),r=this.flatten([this.tokenValue,"$"]),i=[],n=this.PPT.product[0][0],o=e.length,a=0;a<o;){if(t[t.length-1]===e[a]&&"$"===e[a])return{status:!0,output:i};if("ε"===t[t.length-1])t.pop(),console.log(t);else if(t[t.length-1]===e[a])i.push(n),t.pop(),a++,console.log(t);else if(this.inArray(t[t.length-1],this.nonTerminator)){if(n=this.searchProduct(t[t.length-1],e[a]),!n){var s=[{token:e[a],value:r[a]}];return e[a-1]&&e[a+1]&&(s=[{token:e[a],value:r[a]},{token:e[a-1],value:r[a-1]},{token:e[a+1],value:r[a+1]}]),{status:!1,errorType:2,error:s}}t.pop();for(var l=n.right.length-1;l>=0;l--)t.push(n.right[l]);console.log(t)}}}},{key:"getTokenArray",get:function(){return this.tokenArray}},{key:"setTokenArray",set:function(t){this.tokenArray=t}},{key:"getTokenValue",get:function(){return this.tokenValue}},{key:"setTokenValue",set:function(t){this.tokenValue=t}},{key:"getGrammer",get:function(){return this.grammer}},{key:"setGrammar",set:function(t){this.grammer=t}}]),t}(),w=function(){function t(e){Object(b["a"])(this,t),this.stackArray=new Array(e),this.top=-1}return Object(x["a"])(t,[{key:"push",value:function(t){this.stackArray[++this.top]=t}},{key:"pop",value:function(){return this.stackArray[this.top--]}},{key:"peek",value:function(){return this.stackArray[this.top]}},{key:"isEmpty",value:function(){return-1===this.top}}]),t}(),C=function(){function t(e){Object(b["a"])(this,t),this.input=e,this.theStack=new w(e.length),this.output=[]}return Object(x["a"])(t,[{key:"justDoIt",value:function(){for(var t=0;t<this.input.length;t++){var e=this.input[t];switch(e){case"+":case"-":this.gotO(e,1);break;case"*":case"/":this.gotO(e,2);break;case"(":this.theStack.push(e);break;case")":this.gotP();break;default:this.output.push(e);break}}while(!this.theStack.isEmpty())this.output.push(this.theStack.pop());return this.output}},{key:"gotO",value:function(t,e){while(!this.theStack.isEmpty()){var r=this.theStack.pop();if("("===r){this.theStack.push(r);break}var i="+"===r||"-"===r?1:2;if(i<e){this.theStack.push(r);break}this.output.push(r)}this.theStack.push(t)}},{key:"gotP",value:function(){while(!this.theStack.isEmpty()){var t=this.theStack.pop();if("("===t)break;this.output.push(t)}}}]),t}(),P={data:function(){return{activeTab:"tab1",PARSE:"",consoleTai:['<span style="color:#fff;">这是控制台</span>'],dialog:{is:!1,title:"",content:[]},drawer:{open:!1,docked:!0},preParseTable:{tor:[],ntor:[],product:[[{left:"",right:""}]]},snackbar:{is:!1,message:""},textarea:{rows:0,height:"500",lineCount:1,lineCountString:1,MAXLINE:1e4,code:"A = B + C * D;\nZ = - Y * (M + N) + X;\n/*void main(){\n  int a = 10; //这是一行注释\n  int b = 20, c = 30;\n  int d = a + b * c;\n  double pi = 3.14;\n  double r = 5;\n  double area = pi * r * r;\n}\n\n* int 123abc = 123;\n* 这是多行注释\n* 这里的任何错误将被忽略\n*/\n"},lex:{keyword:{c:["int","long","short","float","double","char","unsigned","signed","const","void","volatile","enum","struct","union","if","else","goto","switch","case","do","while","for","continue","break","return","default","typedef","auto","register","extern","static","sizeof"]}},mulitRelop:["<=",">=","==","!=","<>"],codeLexPrase:{id:[]},lexResAll:{binGroup:[],tokenArray:[],valueArray:[]},grammerParse:{grammer:[{left:["S"],right:["void","id","(",")","{","A","}"]},{left:["X"],right:["Y","Z",";"]},{left:["Y"],right:["int","|","float","|","double","|","char","|","bool"]},{left:["Z"],right:["U","Z’"]},{left:["Z’"],right:[",","Z","|","ε"]},{left:["U"],right:["id","U’"]},{left:["U’"],right:["=","L","|","ε"]},{left:["R"],right:["id","=","L"]},{left:["L"],right:["T","L’"]},{left:["L’"],right:["+","L","|","-","L","|","ε"]},{left:["T"],right:["F","T’"]},{left:["T’"],right:["*","T","|","/","T","|","ε"]},{left:["F"],right:["(","L",")"]},{left:["F"],right:["id","|","num"]},{left:["O"],right:["++","|","--","|","ε"]},{left:["Q"],right:["id","O","|","ε"]},{left:["E"],right:["H","E’"]},{left:["E’"],right:["&&","E","|","ε"]},{left:["H"],right:["G","H"]},{left:["H’"],right:["||","H"]},{left:["H’"],right:["ε"]},{left:["G"],right:["F","D","F"]},{left:["D"],right:["<","|",">","|","==","!="]},{left:["G"],right:["(","E",")"]},{left:["G"],right:["!","E"]},{left:["B"],right:["if","(","E",")","{","A","}","else","{","A","}"]},{left:["B"],right:["while","(","E",")","{","A","}"]},{left:["B"],right:["for","(","Y","Z",";","G",";","Q",")","{","A","}"]},{left:["A"],right:["C","A"]},{left:["C"],right:["X","|","B","|","R"]},{left:["A"],right:["ε"]}]}}},methods:{handleTabChange:function(t){this.activeTab=t},showCourseDesign:function(){this.openDialog("编译原理 课程设计内容",["1.词法分析器","2.语法分析器","3.中间代码生成"])},showTeamInfor:function(){this.openDialog("计科1501 小组成员信息",["王雪峰 20154845","郑岩培 20154843","凌秀雯 20154834"])},openDialog:function(t,e){this.dialog.is=!0,this.dialog.title=t,this.dialog.content=e},closeDialog:function(){this.dialog.is=!1,this.dialog.title="",this.dialog.content=[]},drawertoggle:function(t){this.drawer.open=!this.drawer.open,this.drawer.docked=!t},showPreList:function(){this.preParseTable=this.PARSE.PPT,this.drawertoggle()},copyDialogContent:function(){var t=document.createElement("input"),e=this.dialog.content.join("\n");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.className="input",t.style.display="none",this.showSnackbar("内容已复制到剪贴板😄",2e3)},scrollToBottom:function(t){this.$nextTick(function(){t.scrollTop=t.scrollHeight})},addConsole:function(t){var e=this;new f.a(function(r,i){c()(t)?(e.consoleTai=e.flatten([e.consoleTai,e.flatten(t)]),r()):"string"===typeof t?(e.consoleTai.push(t),r()):i(t)}).then(function(){e.scrollToBottom(e.$refs.cnsoleT)})},addColorTextConsole:function(t,e){this.addConsole('<span style="color:'.concat(t,';">').concat(e,"</span>"))},clearConsole:function(){this.consoleTai=['<span style="color:#fff;">这是控制台</span>']},flatten:function(t){var e=this;return t.reduce(function(t,r){return c()(r)?[].concat(Object(l["a"])(t),Object(l["a"])(e.flatten(r))):[].concat(Object(l["a"])(t),[r])},[])},showSnackbar:function(t,e){var r=this;this.snackbar.message=t,this.snackbar.is=!0,this.snackTimer&&clearTimeout(this.snackTimer),this.snackTimer=setTimeout(function(){r.snackbar.is=!1},e)},hideSnackbar:function(){this.snackbar.is=!1,this.snackTimer&&clearTimeout(this.snackTimer)},delRemark:function(t){return t.replace(/\/\*[\s\S]*\*\/|\/\/.*/g,"")},tirm:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},setId:function(t){-1===this.getId(t)&&this.codeLexPrase.id.push(t)},getId:function(t){for(var e=-1,r=0,i=this.codeLexPrase.id.length;r<i;r++)if(t===this.codeLexPrase.id[r]){e=r;break}return e},clearId:function(){this.codeLexPrase.id=[]},isSysKey:function(t){return this.inArray(t,this.lex.keyword.c)},isId:function(t){return/^[A-Za-z_][A-Za-z0-9_]*$/.test(t)},isNum:function(t){return!isNaN(t)},isFloat:function(t){return/^\d+(\.\d+)?$/.test(t)},isRelop:function(t){return/([><!]=?|==)/.test(t)},isAssign:function(t){return/=/.test(t)&&"="===t},isZyzf:function(t){return/(\\n|\\t|(%d)|(%f)|(%lf))+/.test(t)},isSeparator:function(t){return/\+|-|\*|\/|=|!|!=|!==|\(|\)|\{|\}|\[|\]|,|;|\?|:|"|'|#|\.|\s|\n|<|>|!|%|&|\||&&|\|\|/.test(t)},inArray:function(t,e){for(var r in e)if(e[r]===t)return!0;return!1},oneLineParse:function(t,e){for(var r=t.split(""),i=[],n=[],o=0,a=0,s=r.length;o<s;o++)if("\n"!==r[o]&&""!==this.tirm(r[o])&&n.push(r[o]),this.isSeparator(r[o])){if("\n"!==r[o]&&""!==this.tirm(r[o]))if(this.inArray(r[o]+r[o+1],this.mulitRelop))n.push(r[o+1]),i[a]=n.join(""),a++,o++;else{if("."===r[o]&&this.isNum(r[o-1]))continue;i[a+1]=n.pop(),i[a]=n.join(""),a+=2}else i[a]=n.join(""),a++;n=[]}for(var l=[],h=0;h<i.length;h++)""===this.tirm(i[h])&&(i.splice(h,1),h-=1);for(var c=0,u=i.length;c<u;c++)if(this.isSysKey(i[c]))l[c]={token:i[c],value:"-"};else if(this.isId(i[c]))this.setId(i[c]),l[c]={token:"id",value:this.getId(i[c])};else if(this.isFloat(i[c]))l[c]={token:"num",value:i[c]};else if(this.isNum(i[c]))l[c]={token:"num",value:i[c]};else if(this.isRelop(i[c]))l[c]={token:i[c],value:i[c]};else if(this.isAssign(i[c]))l[c]={token:i[c],value:i[c]};else if(this.isSeparator(i[c]))l[c]={token:i[c],value:i[c]};else{if(!this.isZyzf(i[c]))return this.showSnackbar("出现词法错误 [".concat(e+1,"]"),5e3),this.addColorTextConsole("red","词法错误 [".concat(e+1,"]：").concat(i[c])),!1;l[c]={token:"Zyzf",value:i[c]}}return l},initLexParse:function(){this.clearId(),this.lexResAll.binGroup=[],this.lexResAll.tokenArray=[],this.lexResAll.valueArray=[]},lexParse:function(){var t=this.tirm(this.delRemark(this.$refs.mainTextArea.$el.innerText));this.$refs.mainTextArea.$el.innerText=t,this._textareaBind(),this.highLighting();var e=t.split("\n"),r=[];this.initLexParse();for(var i=0,n=e.length;i<n;i++){if(r[i]=this.oneLineParse(e[i],i),!r[i])return!1;for(var o=0;o<r[i].length;o++)this.lexResAll.binGroup.push("<".concat(r[i][o].token,", ").concat(r[i][o].value,">")),this.lexResAll.tokenArray.push(r[i][o].token),this.lexResAll.valueArray.push(r[i][o].value)}return!0},htmlspecialchar:function(t){for(var e=this.flatten([t]),r=[],i=e.length,n=0;n<i;n++)r[n]=e[n].replace(/</g,"&lt;").replace(/>/g,"&gt;");return r},cffx:function(){this.addConsole("开始词法分析"),this.lexParse()&&(this.showSnackbar("词法分析完成",2e3),this.addColorTextConsole("#fff","词法分析完成 返回二元组如下："),this.addConsole(this.htmlspecialchar(this.lexResAll.binGroup)),console.dir(this.lexResAll.binGroup))},parseRules:function(){for(var t=[],e=0;e<this.grammerParse.grammer.length;e++)t[e]="".concat(this.grammerParse.grammer[e].left[0]," → ").concat(this.grammerParse.grammer[e].right.join(""));return t},yffx:function(){if(!this.lexParse())return{status:!1};this.addConsole("开始语法分析"),this.addColorTextConsole("#fff","使用如下文法规则："),this.addConsole(this.parseRules());var t=this.lexResAll.tokenArray.join(" "),e=this.PARSE;e.tokenArray=this.lexResAll.tokenArray,e.tokenValue=this.lexResAll.valueArray,console.dir(e.PPT),console.dir(e.NT),this.preParseTable=e.PPT,this.addColorTextConsole("#fff","文法的 First 集如下:");for(var r=0;r<e.nonTerminator.length;r++)console.dir("First(".concat(e.NT[r].ntor,") = {").concat(e.NT[r].FirstArray.join("，"),"}")),this.addConsole("First(".concat(e.NT[r].ntor,") = {").concat(e.NT[r].FirstArray.join("，"),"}"));this.addColorTextConsole("#fff","文法的 Follow 集如下:");for(var i=0;i<e.nonTerminator.length;i++)console.dir("Follow(".concat(e.NT[i].ntor,") = {").concat(e.NT[i].Follow.join("，"),"}")),this.addConsole("Follow(".concat(e.NT[i].ntor,") = {").concat(e.NT[i].Follow.join("，"),"}"));var n=e.parseToken();if(n.status){this.showSnackbar("语法分析完成",2e3),this.addColorTextConsole("#fff","语法分析完成 返回如下:"),this.addColorTextConsole("green","token序列："),this.addConsole(t),this.addColorTextConsole("green","分析输出产生式");for(var o=0;o<n.output.length;o++)this.addConsole("".concat(n.output[o].left," → ").concat(n.output[o].right.join("")))}else if(console.dir(n),2===n.errorType){this.showSnackbar("发生语法错误",2e3);var a=this.ifIdGet(n.error[0].token,n.error[0].value);n.error.length>1&&(a="".concat(this.ifIdGet(n.error[1].token,n.error[1].value)," ").concat(a," ").concat(this.ifIdGet(n.error[2].token,n.error[2].value))),this.addColorTextConsole("red",'发生语法错误： " '.concat(a,' "'))}else this.showSnackbar("语法分析出现错误 ErrorType: ".concat(n.errorType),2e3),this.addColorTextConsole("red","语法分析出现错误 ErrorType: ".concat(n.errorType));return n},midCode:function(){this.midCreate()},midCreate:function(){var t=this.tirm(this.delRemark(this.$refs.mainTextArea.$el.innerText));this.$refs.mainTextArea.$el.innerText=t,this._textareaBind(),this.highLighting();for(var e=t.split("\n"),r=[],i=0,n=e.length;i<n;i++)r[i]=this.midCreateOneLine(e[i]),this.addConsole(r[i]),console.dir(r[i]);return!0},midCreateOneLine:function(t){var e=t.split(""),r=1,i=[],n=[],o=new C(e),a=o.justDoIt();console.dir(a);for(var s=0;s<a.length;s++){var l=a[s];if("+"===l){var h=n.pop(),c=n.pop(),u="t".concat(r);r++,n.push(u),i.push("".concat(r-1,".  ( +, ").concat(c,", ").concat(h,", ").concat(u,")"))}else if("-"===l){var f=n.pop(),g="t".concat(r);r++,n.push(g),i.push("".concat(r-1,".  ( -, ").concat(f,",  , ").concat(g,")"))}else if("*"===l){var d=n.pop(),m=n.pop(),p="t".concat(r);r++,n.push(p),i.push("".concat(r-1,".  ( *, ").concat(m,", ").concat(d,", ").concat(p,")"))}else if("/"===l){var v=n.pop(),T=n.pop(),y="t".concat(r);r++,n.push(y),i.push("".concat(r-1,".  ( /, ").concat(T,", ").concat(v,", ").concat(y,")"))}else/[a-zA-Z0-9=]/.test(l)&&n.push(l)}console.log();var k=n.pop();n.pop();var b=n.pop();return r++,i.push("".concat(r-1,".  ( =, ").concat(k,",  , ").concat(b,")")),i},ifIdGet:function(t,e){return"id"===t?this.codeLexPrase.id[e]:this.isSysKey(t)?t:e},getTextRows:function(){var t=window.screen.availHeight-this.$refs.head.offsetHeight-320,e=Math.floor(t/23);return{height:t,row:e}},getLineCount:function(){var t=this.$refs.mainTextArea.$el.innerText.split("\n");return""===t[t.length-1]?t.length-1:t.length},syncScroll:function(){var t=this;this.$refs.mainTextArea.$el.onscroll=function(){t.$refs.textareaOl.scrollTop=t.$refs.mainTextArea.$el.scrollTop},this.$refs.mainTextArea.$el.onmousemove=function(){t.$refs.textareaOl.scrollTop=t.$refs.mainTextArea.$el.scrollTop}},clearSyncScroll:function(){this.$refs.mainTextArea.$el.onscroll=function(){return!1},this.$refs.mainTextArea.$el.onmousemove=function(){return!1}},_syncScroll:function(){var t=this;this.$refs.textareaOl.onscroll=function(){t.$refs.mainTextArea.$el.scrollTop=t.$refs.textareaOl.scrollTop}},_clearSyncScroll:function(){this.$refs.textareaOl.onscroll=function(){return!1}},_textareaBind:function(){this.textarea.lineCount=this.getLineCount(),this.textarea.lineCountString=1;for(var t=2;t<=this.textarea.lineCount;t++)this.textarea.lineCountString+="\n"+t;this.$refs.textareaOl.scrollTop=this.$refs.mainTextArea.$el.scrollTop},textareaBind:function(t){var e=9,r=13,i=8,n=46,o="    ",a=this.$refs.mainTextArea.$el;if(t.keyCode===e){var s=a.ownerDocument.defaultView,l=s.getSelection(),h=l.getRangeAt(0),c=document.createTextNode(o);h.insertNode(c),h.setStartAfter(c),h.setEndAfter(c),l.removeAllRanges(),l.addRange(h),t.preventDefault&&t.preventDefault()}else if(t.keyCode===r){if(this.textarea.lineCount>=this.textarea.MAXLINE)return void this.showSnackbar("已达到最大行数",2e3);this.textarea.lineCountString+="\n"+ ++this.textarea.lineCount}else if(t.keyCode===i||t.keyCode===n){this.textarea.lineCount=this.getLineCount(),this.textarea.lineCountString=1;for(var u=2;u<=this.textarea.lineCount;u++)this.textarea.lineCountString+="\n"+u}this.$refs.textareaOl.scrollTop=this.$refs.mainTextArea.$el.scrollTop},highLighting:function(){var t=new RegExp("([a-zA-Z][a-zA-Z0-9_]*)","g"),e=this.$refs.mainTextArea.$el.innerText.replace(t,"<span style='color: rgb(77,153,178);'>$1</span>"),r=this.lex.keyword.c.join("|"),i=new RegExp(">("+r+")<","g"),n=e.replace(i,"><span style='color: rgb(197,148,197);'>$1</span><");this.$refs.mainTextArea.$el.innerHTML=n},bindEvent:function(){var t=this,e=this.$refs.mainTextArea.$el;e.onkeydown=function(){t.textareaBind(window.event)},e.onkeyup=function(){t._textareaBind()},e.onmouseover=function(){t.syncScroll()},e.onmouseout=function(){t.clearSyncScroll()},e.oninput=function(){}}},components:{"div-edite":y},watch:{processData:"scrollToBottom"},mounted:function(){var t=this;this.PARSE=new A(["$"],[""],this.grammerParse.grammer),this.PARSE.getSet(),this.textarea.height=this.getTextRows().height,this.bindEvent(),this.highLighting(),this._textareaBind(),window.onresize=function(){t.textarea.height=t.getTextRows().height}}},S=P,$=(r("7810"),Object(v["a"])(S,a,s,!1,null,"0e931db6",null));$.options.__file="Compiler.vue";var F=$.exports,_={name:"app",components:{Compiler:F}},N=_,O=Object(v["a"])(N,n,o,!1,null,null,null);O.options.__file="App.vue";var j=O.exports,L=r("66e0"),R=r.n(L);r("d6f6"),r("3cba");i["default"].use(R.a),i["default"].config.productionTip=!1,new i["default"]({render:function(t){return t(j)}}).$mount("#app")},7810:function(t,e,r){"use strict";var i=r("51f4"),n=r.n(i);n.a},"7c0c":function(t,e,r){"use strict";var i=r("a17b"),n=r.n(i);n.a},a17b:function(t,e,r){}});
//# sourceMappingURL=app.2f54a71c.js.map